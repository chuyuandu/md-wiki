(this.webpackJsonpdoc=this.webpackJsonpdoc||[]).push([[0],{243:function(e,t,n){e.exports=n(681)},248:function(e,t,n){},677:function(e,t,n){},681:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),i=(n(248),n(249),n(154)),s=n.n(i),l=(n(251),n(61)),u=n.n(l),f=n(44),h=(n(156),n(97)),p=n.n(h),m=(n(157),n(45)),y=n.n(m),b=(n(105),n(91)),d=n.n(b),v=(n(106),n(58)),g=n.n(v),k=(n(257),n(237)),O=n.n(k),w=(n(76),n(37)),E=n.n(w),j=(n(260),n(47)),C=n.n(j),I=(n(262),n(102)),F=n.n(I),x=(n(75),n(32)),S=n.n(x),T=n(14),D=n(15),R=n(25),z=n(24),B=n(38),L=n(22),P=(n(266),n(2)),H=(n(267),n(151)),_=n.n(H),N=n(100),A=n.n(N),V=n(101);A.a.interceptors.response.use((function(e){return e}),(function(e){var t="\u8bf7\u6c42\u51fa\u9519";return e&&(t=e.response&&e.response.status?e.response.statusText:e.message),_.a.error({message:t}),e}));var M=A.a.create({baseURL:"https://gitee.com/api/v5",headers:{"Content-Type":"application/json;charset=UTF-8"}}),q=A.a.create({baseURL:"https://api.github.com",headers:{Accept:"application/vnd.github.v3+json;"}});function U(e){var t="\u8bf7\u6c42\u51fa\u9519";if(e)if(e.response&&e.response.status){var n=e.response.data;t=n.message?n.message:n.messages?n.messages.join(" "):e.response.statusText}else e.message&&(t=e.message);return _.a.error({message:t}),Promise.reject(e)}function J(e){return e&&e.type&&e.owner&&e.repository}function K(){var e=localStorage.getItem("config"),t=null;if(e)try{t=JSON.parse(e)}catch(n){}return t}function W(e,t){return{key:e.path,title:t,sha:e.sha,type:e.type,isLeaf:"blob"===e.type}}M.interceptors.response.use((function(e){return e}),U),q.interceptors.response.use((function(e){return e}),U),Object(P.o)((function(){return fe.token}),(function(e){se()||"github"===fe.type&&(q.defaults.headers.Authorization="token ".concat(e))}),{fireImmediately:!0});var G,$,Q,X,Y,Z,ee,te,ne=function(){function e(){Object(T.a)(this,e)}return Object(D.a)(e,[{key:"formatTreeData",value:function(e){var t=[],n={};return e.forEach((function(e){var a=e.path,r=a.lastIndexOf("/"),o="",c="";r>-1?(o=a.substring(0,r),c=a.substring(r+1)):c=a;var i=W(e,c),s=t;if(o&&n[o]){var l=n[o];l.children||(l.children=[]),s=l.children}s.push(i),n[a]=i})),t}}]),e}(),ae=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).axiosInstance=M,e}return Object(D.a)(n,[{key:"getUserInfo",value:function(){return this.axiosInstance.get("user",{params:{access_token:fe.token}}).then((function(e){return e.data}))}},{key:"getTrees",value:function(e){var t=this,n=(e.path,e.sha);return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/git/trees/").concat(n||fe.branch),params:{access_token:fe.token,recursive:"1"}}).then((function(e){return t.formatTreeData(e.data.tree)}))}},{key:"getBranches",value:function(){return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/branches"),params:{access_token:fe.token}}).then((function(e){return e.data.map((function(e){return{name:e.name}}))}))}},{key:"getFileContent",value:function(e){var t=e.sha;return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/git/blobs/").concat(t),params:{access_token:fe.token}}).then((function(e){return V.Base64.decode(e.data.content)}))}},{key:"delFile",value:function(e){return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/contents/").concat(e.path),method:"DELETE",params:{access_token:fe.token,message:e.message,sha:e.sha,branch:fe.branch}})}},{key:"saveFile",value:function(e){var t=e.path,n=e.message,a=e.content,r=e.sha,o=e.isCreated;return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/contents/").concat(t),method:o?"post":"put",data:{access_token:fe.token,message:n,content:V.Base64.encode(a),sha:r,branch:fe.branch}}).then((function(e){var t=e.data.content;return{name:t.name,path:t.path,sha:t.sha,type:t.type}}))}}]),n}(ne),re=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).axiosInstance=q,e}return Object(D.a)(n,[{key:"getUserInfo",value:function(){return this.axiosInstance.get("user").then((function(e){return e.data}))}},{key:"getTrees",value:function(e){var t=this,n=(e.path,e.sha);return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/git/trees/").concat(n||fe.branch),params:{ref:fe.branch,recursive:"1"}}).then((function(e){return t.formatTreeData(e.data.tree)}))}},{key:"getBranches",value:function(){return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/branches")}).then((function(e){return e.data.map((function(e){return{name:e.name}}))}))}},{key:"getFileContent",value:function(e){var t=e.sha;return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/git/blobs/").concat(t),headers:{Accept:"application/vnd.github.VERSION.raw"}}).then((function(e){return e.data}))}},{key:"saveFile",value:function(e){var t=e.path,n=e.message,a=e.content,r=e.sha;e.isCreated;return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/contents/").concat(t),method:"put",data:{message:n,content:V.Base64.encode(a),sha:r,branch:fe.branch}}).then((function(e){return e.data}))}},{key:"delFile",value:function(e){return this.axiosInstance({url:"repos/".concat(fe.owner,"/").concat(fe.repository,"/contents/").concat(e.path),method:"DELETE",params:{message:e.message,sha:e.sha,branch:fe.branch}})}}]),n}(ne),oe=new ae,ce=new re;function ie(){return se()?oe:ce}function se(){return"gitee"===fe.type}function le(e){return ie().getFileContent(e)}function ue(e){return ie().saveFile(e)}var fe=new(G=function(){function e(){Object(T.a)(this,e),Object(B.a)(this,"type",$,this),Object(B.a)(this,"owner",Q,this),Object(B.a)(this,"repository",X,this),Object(B.a)(this,"token",Y,this),Object(B.a)(this,"branch",Z,this),Object(B.a)(this,"selectFileInfo",ee,this),Object(B.a)(this,"newFile",te,this)}return Object(D.a)(e,[{key:"setBranch",value:function(e){this.branch=e,this.updateLocalStorage()}},{key:"updateLocalStorage",value:function(){localStorage.setItem("config",JSON.stringify({type:this.type,owner:this.owner,repository:this.repository,token:this.token,branch:this.branch}))}},{key:"updateConfig",value:function(e){e.branch?this.branch=e.branch:this.repository===e.repository&&this.type===e.type&&this.owner===e.owner||(this.branch="master"),this.repository=e.repository,this.token=e.token,this.type=e.type,this.owner=e.owner,this.updateLocalStorage()}},{key:"selectFile",value:function(e){Object.assign(this.selectFileInfo,{name:e.title,path:e.key,download_url:e.download_url,git_url:e.git_url,sha:e.sha})}},{key:"addFile",value:function(e){this.newFile=W(e,e.name||"")}}]),e}(),$=Object(L.a)(G.prototype,"type",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"gitee"}}),Q=Object(L.a)(G.prototype,"owner",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=Object(L.a)(G.prototype,"repository",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Y=Object(L.a)(G.prototype,"token",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Z=Object(L.a)(G.prototype,"branch",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"master"}}),ee=Object(L.a)(G.prototype,"selectFileInfo",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{path:"",name:"",content:"",sha:"",node_id:""}}}),te=Object(L.a)(G.prototype,"newFile",[P.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(L.a)(G.prototype,"setBranch",[P.f],Object.getOwnPropertyDescriptor(G.prototype,"setBranch"),G.prototype),Object(L.a)(G.prototype,"updateConfig",[P.f],Object.getOwnPropertyDescriptor(G.prototype,"updateConfig"),G.prototype),Object(L.a)(G.prototype,"selectFile",[P.f],Object.getOwnPropertyDescriptor(G.prototype,"selectFile"),G.prototype),Object(L.a)(G.prototype,"addFile",[P.f],Object.getOwnPropertyDescriptor(G.prototype,"addFile"),G.prototype),G),he={labelCol:{span:6},wrapperCol:{span:16}},pe={wrapperCol:{offset:8,span:16}},me=K(),ye=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!J(me)},e.showPop=function(){e.setState({visible:!0})},e.onFinish=function(t){fe.updateConfig(t),e.setState({visible:!1})},e.cancel=function(){e.setState({visible:!1})},e}return Object(D.a)(n,[{key:"render",value:function(){var e=me||{},t={type:e.type||"",owner:e.owner||"",repository:e.repository||"",token:e.token||""};return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{type:"primary",onClick:this.showPop},"\u914d\u7f6e"),r.a.createElement(g.a,{title:"\u8bbe\u7f6e",maskClosable:!1,visible:this.state.visible,closable:!0,footer:null,onCancel:this.cancel},r.a.createElement(C.a,Object.assign({},he,{name:"basic",initialValues:t,onFinish:this.onFinish}),r.a.createElement(C.a.Item,{label:"\u4ed3\u5e93\u7c7b\u578b",name:"type",rules:[{required:!0,message:"\u8f93\u5165\u4ed3\u5e93\u5730\u5740"}]},r.a.createElement(F.a,{defaultValue:"gitee"},r.a.createElement(F.a.Option,{value:"gitee"},"\u7801\u4e91"),r.a.createElement(F.a.Option,{value:"github"},"GitHub"))),r.a.createElement(C.a.Item,{label:"\u4ed3\u5e93owner",name:"owner",rules:[{required:!0,message:"\u8bf7\u8f93\u5165owner"}]},r.a.createElement(E.a,null)),r.a.createElement(C.a.Item,{label:"\u4ed3\u5e93\u540d",name:"repository",rules:[{required:!0,message:"\u8f93\u5165\u4ed3\u5e93\u540d"}]},r.a.createElement(E.a,null)),r.a.createElement(C.a.Item,{label:"token",name:"token",rules:[{required:!0,message:"\u8f93\u5165user token"}]},r.a.createElement(E.a,null)),r.a.createElement(C.a.Item,pe,r.a.createElement(O.a,{size:16},r.a.createElement(S.a,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58"),r.a.createElement(S.a,{type:"default",onClick:this.cancel},"\u53d6\u6d88"))))))}}]),n}(r.a.Component),be=(n(208),n(96)),de=n.n(be),ve=(n(209),n(30)),ge=n.n(ve),ke=n(29),Oe=n(687),we=Object(ke.a)((function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(!1),i=Object(f.a)(c,2),s=i[0],l=i[1];var u=r.a.createElement(ge.a,{onClick:function(e){var t=e.key;fe.setBranch(t)}},n.map((function(e){return r.a.createElement(ge.a.Item,{key:e},e)})));return Object(a.useEffect)((function(){Object(P.o)((function(){return{type:fe.type,owner:fe.owner,repository:fe.repository}}),(function(e){ie().getBranches().then((function(e){var t=e.map((function(e){return e.name}));o(t),l(t.length<=1),t.includes(fe.branch)||fe.setBranch(t[0])}))}),{delay:50,fireImmediately:!0,equals:function(e,t){return["type","owner","repository"].every((function(n){return e[n]===t[n]}))}})}),[]),r.a.createElement(de.a,{overlay:u,trigger:["click"],disabled:s},r.a.createElement("a",null,fe.branch," ",r.a.createElement(Oe.a,null)))})),Ee=n(686),je=n(688);function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var Fe=r.a.createElement("defs",null,r.a.createElement("style",{type:"text/css"})),xe=r.a.createElement("path",{d:"M512 1024C229.2224 1024 0 794.7776 0 512S229.2224 0 512 0s512 229.2224 512 512-229.2224 512-512 512z m259.1488-568.8832H480.4096a25.2928 25.2928 0 0 0-25.2928 25.2928l-0.0256 63.2064c0 13.952 11.3152 25.2928 25.2672 25.2928h177.024c13.9776 0 25.2928 11.3152 25.2928 25.2672v12.6464a75.8528 75.8528 0 0 1-75.8528 75.8528H366.592a25.2928 25.2928 0 0 1-25.2672-25.2928v-240.1792a75.8528 75.8528 0 0 1 75.8272-75.8528h353.9456a25.2928 25.2928 0 0 0 25.2672-25.2928l0.0768-63.2064a25.2928 25.2928 0 0 0-25.2672-25.2928H417.152a189.6192 189.6192 0 0 0-189.6192 189.6448v353.9456c0 13.9776 11.3152 25.2928 25.2928 25.2928h372.9408a170.6496 170.6496 0 0 0 170.6496-170.6496v-145.408a25.2928 25.2928 0 0 0-25.2928-25.2672z",fill:"#C71D23","p-id":3257}),Se=function(e){var t=e.svgRef,n=e.title,a=Ie(e,["svgRef","title"]);return r.a.createElement("svg",Ce({t:1592135422171,className:"icon",viewBox:"0 0 1024 1024","p-id":3256,width:200,height:200,ref:t},a),n?r.a.createElement("title",null,n):null,Fe,xe)},Te=r.a.forwardRef((function(e,t){return r.a.createElement(Se,Ce({svgRef:t},e))})),De=(n.p,Object(ke.a)((function(e){var t=e.store,n="",a="",o={fontSize:"1.5em",color:"initial"};return"gitee"===t.type?(n="\u524d\u5f80\u7801\u4e91\u5b98\u7f51\u67e5\u770b",a="https://gitee.com/".concat(t.owner,"/").concat(t.repository).concat(t.branch&&"master"!==t.branch?"/tree/".concat(t.branch):"")):(n="\u524d\u5f80GitHub\u5b98\u7f51\u67e5\u770b",a="https://github.com/".concat(t.owner,"/").concat(t.repository).concat(t.branch&&"master"!==t.branch?"/tree/".concat(t.branch):"")),r.a.createElement(d.a,{title:n,placement:"bottom"},r.a.createElement("a",{href:a,target:"_blank"},"gitee"===t.type?r.a.createElement(Ee.a,{component:Te,style:o}):r.a.createElement(je.a,{style:o})))}))),Re=Object(ke.a)((function(e){var t=e.store,n=Object(a.useState)(""),o=Object(f.a)(n,2),c=o[0],i=o[1];return Object(a.useEffect)((function(){Object(P.o)((function(){return t.token}),(function(e){e&&ie().getUserInfo().then((function(e){i(e.name||e.login)}))}),{fireImmediately:!0,delay:20})}),[]),r.a.createElement(p.a,null,r.a.createElement(y.a,{style:{fontSize:"20px",fontWeight:"bold"},flex:"auto 0"},t.owner,"/",t.repository),r.a.createElement(y.a,{flex:"auto 1",style:{padding:"0 8px"}},r.a.createElement(we,null),"\xa0\xa0",r.a.createElement(De,{store:t})),r.a.createElement(y.a,{flex:"auto 0"},c&&r.a.createElement("span",{className:"name-wrapper"},r.a.createElement("span",{className:"name-title"},"\u5f53\u524d\u7528\u6237\uff1a"),r.a.createElement("span",{className:"name-content"},c)),r.a.createElement(ye,null)))})),ze=(n(491),n(240)),Be=n.n(ze),Le=n(74);function Pe(e){var t="";var n=r.a.createElement(E.a,{onChange:function(e){t=e.target.value}});g.a.confirm({content:n,title:e.title,maskClosable:!1,onCancel:function(){return e.onCancel()},onOk:function(){return t?e.onOk(t):Promise.reject()}})}var He,_e=n(238),Ne=n.n(_e),Ae=n(239),Ve=n.n(Ae),Me=(n(547),new Ne.a),qe=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).myRef=r.a.createRef(),e}return Object(D.a)(n,[{key:"renderHTML",value:function(e){return Me.render(e)}},{key:"getValue",value:function(){var e="";return this.myRef&&(e=this.myRef.getMdValue()),e}},{key:"render",value:function(){var e=this;return r.a.createElement(Ve.a,{ref:function(t){return e.myRef=t},value:this.props.source,style:{height:window.innerHeight-200},renderHTML:this.renderHTML})}}]),n}(r.a.Component);function Ue(e,t){var n,a=void 0!==t,o=r.a.createElement(qe,{source:e,ref:function(e){return n=e}}),c="".concat(t,"\u65b0\u6587\u4ef6.md");var i=a?r.a.createElement(E.a,{defaultValue:c,onChange:function(e){c=e.target.value}}):fe.selectFileInfo.name;g.a.confirm({width:.9*window.innerWidth,mask:!0,maskClosable:!1,keyboard:!0,centered:!0,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",title:i,content:o,onOk:function(){if(n&&c){var e=n.getValue();if(a)return function(e,t){return new Promise((function(n,a){Pe({title:"log",onCancel:function(){},onOk:function(a){if(a)return ue({path:e,message:a,content:t,isCreated:!0}).then((function(e){e.type="blob",fe.addFile(e),n()}))}})}))}("".concat(c),e);if(n)return function(e){return new Promise((function(t,n){Pe({title:"log",onCancel:function(){},onOk:function(n){if(n)return ue({path:fe.selectFileInfo.path,message:n,content:e,sha:fe.selectFileInfo.sha}).then((function(e){t(e)}))}})})).catch((function(){}))}(e)}}})}var Je=Object(ke.a)(He=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={treeData:[],rightClickNode:null},e.loadData=function(t){if(t.children)return Promise.resolve();var n="----"===t.key?"":t.key;return e.getChildren(n,t.key)},e.onRightClick=function(t){var n=t.node;e.setState({menuVisible:!0,rightClickNode:n})},e.menuClick=function(t){var n=t.key,a=e.state.rightClickNode;if(a){var r=a;"del"===n?e.deleteTarget(r):"addFile"===n&&e.addFile(r)}},e}return Object(D.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.store;Object(P.o)((function(){return{type:t.type,owner:t.owner,repository:t.repository,branch:t.branch}}),(function(t){J(t)&&(e.setState({treeData:[]}),e.getChildren("",""))}),{delay:50,fireImmediately:!0,equals:function(e,t){return["type","owner","repository","branch"].every((function(n){return e[n]===t[n]}))}}),Object(P.o)((function(){return t.newFile}),(function(t){if(t){var n=e.formatItem(t),a=n.key.lastIndexOf("/"),r="";a>-1&&(r=n.key.substring(0,a)),e.addFileToTree(n,r,e.state.treeData),e.setState({treeData:e.state.treeData.slice()})}}))}},{key:"updateTreeData",value:function(e,t,n){var a=this;return e.map((function(e){return e.key===t?Object(Le.a)(Object(Le.a)({},e),{},{children:n}):e.children?Object(Le.a)(Object(Le.a)({},e),{},{children:a.updateTreeData(e.children,t,n)}):e}))}},{key:"formatItem",value:function(e){return e}},{key:"formatData",value:function(e){var t=this;return e.map((function(e){return t.formatItem(e)}))}},{key:"getChildren",value:function(e,t){var n,a=this;return(n={path:e},ie().getTrees(n)).then((function(e){a.setState({treeData:a.formatData(e)})}))}},{key:"onSelect",value:function(e,t){var n=t.node;"blob"===n.type&&this.props.store.selectFile(n)}},{key:"addFileToTree",value:function(e,t,n){var a=this;t?n.some((function(n){return n.key===t?(n.children=n.children||[],n.children.push(e),!0):(n.children&&a.addFileToTree(e,t,n.children),!1)})):n.push(e)}},{key:"removeKeyFromTree",value:function(e,t){var n=this;t.some((function(a,r){return a.sha===e?(t.splice(r,1),!0):(a.children&&n.removeKeyFromTree(e,a.children),!1)}))}},{key:"deleteTarget",value:function(e){var t=this;Pe({title:"\u5220\u9664\u6587\u4ef6",onCancel:function(){},onOk:function(n){return(a={path:e.key,message:n,sha:e.sha},ie().delFile(a)).then((function(n){t.removeKeyFromTree(e.sha,t.state.treeData),t.setState({treeData:t.state.treeData.slice()})}));var a}})}},{key:"addFile",value:function(e){Ue("",e.key+"/")}},{key:"render",value:function(){var e=r.a.createElement(ge.a,{onClick:this.menuClick},r.a.createElement(ge.a.Item,{key:"addFile"},"\u65b0\u5efa\u6587\u4ef6"),r.a.createElement(ge.a.Item,{key:"del"},"\u5220\u9664"));return r.a.createElement(de.a,{overlay:e,trigger:["contextMenu"]},r.a.createElement("div",null,r.a.createElement(Be.a,{loadData:this.loadData,treeData:this.state.treeData,defaultExpandedKeys:["----"],onSelect:this.onSelect.bind(this),onRightClick:this.onRightClick})))}}]),n}(r.a.Component))||He;n(574);var Ke,We=n(242),Ge=n.n(We),$e=(n(576),n(153)),Qe=n.n($e),Xe=n(241),Ye=n.n(Xe),Ze=n(689),et=Object(ke.a)(Ke=function(e){Object(R.a)(n,e);var t=Object(z.a)(n);function n(){var e;Object(T.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={source:"",loading:!1,fileSuffix:""},e.getContent=Object(P.g)((function(){var t=e.props.store.selectFileInfo.sha;if(t){window.scrollTo({top:0});var n=e.props.store.selectFileInfo.name;e.setState({loading:!0,source:"",fileSuffix:n.toLowerCase().substring(n.lastIndexOf(".")+1)}),le({sha:t}).then((function(t){e.setState({source:t})})).finally((function(){e.setState({loading:!1})}))}})),e.edit=function(){Ue(e.state.source)},e}return Object(D.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Qe.a.Title,{level:3},r.a.createElement(p.a,null,r.a.createElement(y.a,{flex:"auto 1"},this.props.store.selectFileInfo.path),r.a.createElement(y.a,{flex:"100px 0"},r.a.createElement(Ze.a,{onClick:this.edit})))),r.a.createElement(Qe.a.Text,null,this.state.loading?r.a.createElement(Ge.a,null):"md"===this.state.fileSuffix?r.a.createElement(Ye.a,{source:this.state.source,escapeHtml:!0}):r.a.createElement("pre",{style:{whiteSpace:"break-spaces",wordBreak:"break-all"}},this.state.source)))}}]),n}(r.a.Component))||Ke;n(677);function tt(){return window.innerHeight-64}var nt=function(){var e=Object(a.useState)(tt()),t=Object(f.a)(e,2),n=t[0],o=t[1];function c(){o(tt())}return Object(a.useEffect)((function(){return window.addEventListener("resize",c,!1),function(){window.removeEventListener("resize",c)}}),[]),function(){var e=K();e&&fe.updateConfig(e)}(),r.a.createElement(u.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a.Header,{style:{backgroundColor:"#efefef"}},r.a.createElement(Re,{store:fe}))),r.a.createElement(u.a,null,r.a.createElement(s.a,{offsetTop:64},r.a.createElement(u.a.Sider,{width:"300",style:{backgroundColor:"#fff",borderRight:"1px solid #d8d5d5",overflow:"auto",height:n,padding:"8px"}},r.a.createElement(Je,{store:fe}))),r.a.createElement(u.a.Content,{style:{backgroundColor:"#fff",padding:"8px"}},r.a.createElement(et,{store:fe}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[243,1,2]]]);